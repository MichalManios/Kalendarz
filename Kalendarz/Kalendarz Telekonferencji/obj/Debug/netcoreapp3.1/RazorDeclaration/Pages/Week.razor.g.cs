#pragma checksum "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\Pages\Week.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "94361bbf78f36e21c336cc58911c8cc5fdd0c575"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace Kalendarz_Telekonferencji.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Kalendarz_Telekonferencji;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using Kalendarz_Telekonferencji.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using BlazorInputFile;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\Pages\Week.razor"
using Kalendarz_Telekonferencji.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\Pages\Week.razor"
using Kalendarz_Telekonferencji.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\Pages\Week.razor"
using Kalendarz_Telekonferencji.Data.Interfaces;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/week/{selectedDate}")]
    public partial class Week : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 194 "C:\PROJEKTY\KALENDARZ\Kalendarz Telekonferencji ZZ GOTOWY PROJEKT\Kalendarz Telekonferencji\Pages\Week.razor"
 
    [Parameter]
    public string selectedDate { get; set; }

    string sDayFromCalendarClick { set; get; } = "";

    List<CalendarViewModel> calendarList = new List<CalendarViewModel>();
    CalendarViewModel calendar = new CalendarViewModel();
    int iIdOfCalendarEvent = -1;
    Date date;
    List<int> days = new List<int>();
    string[] classField = new string[7];
    int oldIndex = -1;

    void SetClassField()
    {
        for (int i = 0; i < 7; i++)
        {
            classField[i] = "calendarField2";
        }
    }

    void SelectField(int index)
    {

        if (classField[index] == "calendarField2")
        {
            classField[index] = "calendarFieldActive2 calendarField2";
        }
        else
        {
            classField[index] = "calendarField2";
        }

        if (oldIndex != -1)
        {
            classField[oldIndex] = "calendarField2";
        }
        oldIndex = index;
        sDayFromCalendarClick = days[index].ToString();
    }


    protected override async Task OnInitializedAsync()
    {
        SetClassField();
        date = new Date(DateTime.Parse(selectedDate));
        days = date.InitWeek();
        sDayFromCalendarClick = date.Day;
        calendarList = await calendarServices.GetCalendarsByMonthAsync(DateTime.Parse(selectedDate));//GetAllCalendarsAsync();//.OrderBy(x => x.Year).ThenBy(x => x.Month).ThenBy(x => x.Day).ThenBy(x => x.TimeStart).ToList();
    }

    void GoMonth()
    {
        navigationManager.NavigateTo("/", true);
    }

    void GoWeek()
    {
        navigationManager.NavigateTo("/week", true);
    }

    void GoDay()
    {
        DateTime selectedDate = new DateTime(Convert.ToInt32(date.Year), date.Month, Convert.ToInt32(sDayFromCalendarClick), 0, 0, 0);
        navigationManager.NavigateTo($"/day/{selectedDate.Date.ToShortDateString()}");
    }


    bool bShowEvent = false;
    async Task ShowEventAsync(int IdOfCalendarEvent)
    {
        iIdOfCalendarEvent = IdOfCalendarEvent;
        calendar = await calendarServices.GetCalendarByIdAsync(iIdOfCalendarEvent);
        bShowEvent = true;
    }

    void CloseEvent()
    {
        bShowEvent = false;
    }

    async Task GoPreviousWeekAsync()
    {
        days = date.InitWeek();
        selectedDate = date.GoToPreviousWeek(days).ToShortDateString();
        navigationManager.NavigateTo($"/week/{selectedDate}");
        await OnInitializedAsync();
    }

    async Task GoNextWeekAsync()
    {
        days = date.InitWeek();
        selectedDate = date.GoToNextWeek(days).ToShortDateString();
        navigationManager.NavigateTo($"/week/{selectedDate}");
        await OnInitializedAsync();
    }

    string GetDayOfWeekInPolish(string DayOfWeek)
    {
        string DayOfWeekPolish = "";
        switch (DayOfWeek)
        {
            case "Monday":
                DayOfWeekPolish = "Poniedziałek";
                break;
            case "Tuesday":
                DayOfWeekPolish = "Wtorek";
                break;
            case "Wednesday":
                DayOfWeekPolish = "Środa";
                break;
            case "Thursday":
                DayOfWeekPolish = "Czwartek";
                break;
            case "Friday":
                DayOfWeekPolish = "Piątek";
                break;
            case "Saturday":
                DayOfWeekPolish = "Sobota";
                break;
            case "Sunday":
                DayOfWeekPolish = "Niedziela";
                break;
        }
        return DayOfWeekPolish;
    }

    string SetMonthToPolishWord(int month)
    {
        string Month = "";
        switch (month)
        {
            case 1:
                Month = "STYCZEŃ";
                break;
            case 2:
                Month = "LUTY";
                break;
            case 3:
                Month = "MARZEC";
                break;
            case 4:
                Month = "KWIECIEŃ";
                break;
            case 5:
                Month = "MAJ";
                break;
            case 6:
                Month = "CZERWIEC";
                break;
            case 7:
                Month = "LIPIEC";
                break;
            case 8:
                Month = "SIERPIEŃ";
                break;
            case 9:
                Month = "WRZESIEŃ";
                break;
            case 10:
                Month = "PAŹDZIERNIK";
                break;
            case 11:
                Month = "LISTOPAD";
                break;
            case 12:
                Month = "GRUDZIEŃ";
                break;
        }
        return Month;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICalendarServices calendarServices { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navigationManager { get; set; }
    }
}
#pragma warning restore 1591
